(()=>{"use strict";var n=function(n,t,e){var r;r=e||new Array(t).fill(0).map((function(){return new Array(n).fill(0)}));var a=Math.abs(n-r[0].length);n<r[0].length&&(r=r.map((function(n){for(var t=0;t<a;t++)n.pop();return n}))),n>r[0].length&&(r=r.map((function(n){for(var t=0;t<a;t++)n.push(0);return n}))),t<r.length&&(r.length=t);for(var u=t-r.length,i=0;i<u;i++)r.push(new Array(n).fill(0));return r};function t(n,t,e){var r="<table border=1>".concat(t.map((function(n,t){return"<tr>".concat(n.map((function(n,e){return 1===n?"<td \n                      data-x=".concat(e," \n                      data-y=").concat(t,' \n                      class="cell alive" \n                      style="background-color:#FA58D0; height:10px; width:10px;">\n                  </td>'):2===n?"<td \n                      data-x=".concat(e,"\n                      data-y=").concat(t,'\n                      class="cell daying" \n                      style="background-color:#0000FF; height:10px; width:10px;">\n                  </td>'):"<td \n                      data-x=".concat(e,"\n                      data-y=").concat(t,'\n                      class="cell dead" \n                      style="background-color:#FFFFFF; height:10px; width:10px;">\n                  </td>')})).join(""),"</tr>")})).join(""),"</table>");n.innerHTML=r;var a=n.querySelector("table");a&&a.addEventListener("click",(function(n){var t=n.target,r=t.getAttribute("data-x"),a=t.getAttribute("data-y");r&&a&&"TD"===t.tagName&&e(Number(r),Number(a))}))}function e(n,t,e){var r=n[e];if(void 0===r)return 0;var a=r[t];return void 0===a?0:a}function r(n){return n.map((function(t,r){return t.map((function(t,a){var u,i=function(n,t,r){for(var a=0,u=n-1;u<=n+1;u+=1)a+=Number(e(r,u,t-1)),a+=Number(e(r,u,t+1));return(a+=Number(e(r,n-1,t)))+Number(e(r,n+1,t))}(a,r,n),o=e(n,a,r);return 3===(u=i)||2===u&&1===o?1:0}))}))}function a(n){for(var t=0;t<n.length;t+=1)for(var e=n[t],r=0;r<e.length;r+=1)if(e[r])return!0;return!1}var u=function(n,t){var e=JSON.parse(JSON.stringify(n));return n.forEach((function(r,a){return r.forEach((function(r,u){1===n[a][u]&&0===t[a][u]&&(e[a][u]=2)}))})),e},i=document.createElement("div");document.body.appendChild(i),function(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,c=arguments.length>2?arguments[2]:void 0,l=!1,d=c,v=i,f=o;d.innerHTML="<div class=\"field-wrapper\"></div><button>Start</button></div>\n  <input type='range' id='speedRangeSlider' name='speedRangeSlider' min='0' max='900' value='300' step='100'>\n  <input id='numberX' type='number' min='1' max='100' value=".concat(i," step='1'>\n  <input id='numberY' type='number' min='1' max='100' value=").concat(o," step='1'>\n  <button class='butField'>fieldSize</button>");var p=800,b=c.querySelector(".field-wrapper"),m=c.querySelector("button"),s=c.querySelector("#speedRangeSlider"),g=n(i,o),h=function n(e,r){g[r][e]=Number(!g[r][e]),t(b,g,n)};function y(){l=!1,m.innerHTML="Start",clearInterval(e)}function S(){l=!0,m.innerHTML="Stop",e=setInterval((function(){var n=JSON.parse(JSON.stringify(g));g=r(n);var e=r(g),i=u(g,e);t(b,i,h),e.toString()===n.toString()&&y(),a(g)||(alert("Death on the block"),y())}),p),s.addEventListener("change",(function(){clearInterval(e);var n=Number(s.value);p=1e3-n,S()}))}t(b,g,h);var N=c.querySelector("#numberX"),x=c.querySelector("#numberY"),F=c.querySelector(".butField");null==F||F.addEventListener("click",(function(){v=Number(N.value),(f=Number(x.value))>=1&&v>=1&&f<=100&&v<=100?(g=n(v,f,g),t(b,g,h)):alert("Введите число от 1 до 100")})),m.addEventListener("click",(function(){l?y():S()}))}(void 0,void 0,i)})();