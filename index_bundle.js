(()=>{"use strict";var e=function(e,n,t){var r;r=t||new Array(n).fill(0).map((function(){return new Array(e).fill(0)}));var a=Math.abs(e-r[0].length);e<r[0].length&&(r=r.map((function(e){for(var n=0;n<a;n++)e.pop();return e}))),e>r[0].length&&(r=r.map((function(e){for(var n=0;n<a;n++)e.push(0);return e}))),n<r.length&&(r.length=n);for(var u=n-r.length,i=0;i<u;i++)r.push(new Array(e).fill(0));return r};function n(e,n,t){var r="<table border=1>".concat(n.map((function(e,n){return"<tr>".concat(e.map((function(e,t){return 1===e?"<td \n        data-x=".concat(t,"\n        data-y=").concat(n,'\n        class="cell alive" \n         style="background-color:#FA58D0; height:10px; width:10px;"></td>'):2===e?"<td \n        data-x=".concat(t,"\n        data-y=").concat(n,'\n        class="cell daying" \n         style="background-color:#0000FF; height:10px; width:10px;"></td>'):"<td \n      data-x=".concat(t,"\n      data-y=").concat(n,'\n      class="cell dead" \n      style="background-color:#FFFFFF; height:10px; width:10px;"></td>')})).join(""),"</tr>")})).join(""),"</table>");e.innerHTML=r;var a=e.querySelector("table");a&&a.addEventListener("click",(function(e){var n=e.target,r=n.getAttribute("data-x"),a=n.getAttribute("data-y");r&&a&&"TD"===n.tagName&&t(Number(r),Number(a))}))}function t(e,n,t){var r=e[t];if(void 0===r)return 0;var a=r[n];return void 0===a?0:a}function r(e){return e.map((function(n,r){return n.map((function(n,a){var u,i=function(e,n,r){for(var a=0,u=e-1;u<=e+1;u+=1)a+=Number(t(r,u,n-1)),a+=Number(t(r,u,n+1));return(a+=Number(t(r,e-1,n)))+Number(t(r,e+1,n))}(a,r,e),c=t(e,a,r);return 3===(u=i)||2===u&&1===c?1:0}))}))}function a(e){for(var n=0;n<e.length;n+=1)for(var t=e[n],r=0;r<t.length;r+=1)if(t[r])return!0;return!1}var u=function(e,n){var t=JSON.parse(JSON.stringify(e));return e.forEach((function(r,a){return r.forEach((function(r,u){1===e[a][u]&&0===n[a][u]&&(t[a][u]=2)}))})),t},i=document.createElement("div");document.body.appendChild(i),function(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,o=arguments.length>2?arguments[2]:void 0,l=!1;o.innerHTML="<div class=\"field-wrapper\"></div><button>Start</button></div>\n  <input type='range' id='speedRangeSlider' name='speedRangeSlider' min='0' max='900' value='300' step='100'>\n  <input id='numberX' type='number' min='1' max='100' value=".concat(i," step='1'>\n  <input id='numberY' type='number' min='1' max='100' value=").concat(c," step='1'>\n  <button class='butField'>fieldSize</button>");var d=800,v=o.querySelector(".field-wrapper"),f=o.querySelector("button"),p=o.querySelector("#speedRangeSlider"),s=e(i,c),m=function e(t,r){s[r][t]=Number(!s[r][t]),n(v,s,e)};function b(){l=!1,f.innerHTML="Start",clearInterval(t)}function g(){l=!0,f.innerHTML="Stop",t=setInterval((function(){var e=JSON.parse(JSON.stringify(s));s=r(e);var t=r(s),i=u(s,t);n(v,i,m),t.toString()===e.toString()&&b(),a(s)||(alert("Death on the block"),b())}),d),p.addEventListener("change",(function(){clearInterval(t);var e=Number(p.value);d=1e3-e,g()}))}n(v,s,m);var h=o.querySelector("#numberX"),y=o.querySelector("#numberY"),S=o.querySelector(".butField");null==S||S.addEventListener("click",(function(){i=Number(h.value),c=Number(y.value),s=e(i,c,s),n(v,s,m)})),f.addEventListener("click",(function(){l?b():g()})),h.addEventListener("keypress",(function(e){var n=e.key;return""===n||n.match(/[0-9]/)?n:(e.preventDefault(),!1)})),y.addEventListener("keypress",(function(e){var n=e.key;return""===n||n.match(/[0-9]/)?n:(e.preventDefault(),!1)}))}(void 0,void 0,i)})();